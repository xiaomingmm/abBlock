/*!
 *
 * abBlock-v1.5 (导航定位&吸顶)滚动插件
 * 官网: http://ab.geshai.com/other-plus/abBlock
 *  
 * 有疑难问题可选择QQ群① 158544200 或QQ群② 790370978 进行反馈
 * 
 * Copyright 2010-2022, Carlo,Cloud
 *
 * 请尊重原创，保留头部版权
 * 在保留版权的前提下，可应用于个人或商业用途
 *
 */
;!function(a){a.fn.abBlock=function(b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;a.fn.abBlock.__defs={_version:1.5,scroll:"html,body",tit:!1,titContainer:"",block:!1,stickType:"left",positionType:1,offsetY:0,offsetX:0,early:0,appoint:!1,place:!1,onClass:!1,offClass:!1,titOnClass:"on",speed:250,rollType:0,backTop:!1,callback:null,_init:!1,_rd:"ab$1",_style:"#ab_$1_x",_topExp:"ab_$1_fixed",_onClass:"ab_$1_def"},b=a.extend({},a.fn.abBlock.__defs,b),b.callbackFunc=function(b,c){a.isFunction(this.callback)&&this.callback(b,c)},b.isIE6=function(){return a.browser.msie&&parseInt(a.browser.version)<7},b.scrollTop=function(){return parseFloat(a(window).scrollTop())},b.randStr=function(){var d,a=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],b=0,c=[];for(d=0;10>d;d++)b=Math.max(Math.ceil(26*Math.random()),1),c.push(a[b-1]);return c.join("")},b.titIsOff=function(){return!1===this.tit},b.px=function(a){return a.toString()+"px"},b.winDocWh=function(){return{winW:a(window).width(),winH:a(window).height()}},b.getRollType=function(){return/^[12]$/.test(this.rollType)?parseInt(this.rollType):0},b.hasLen=function(a){return 0!=a.length},b.valueTop=function(b){if(!1===b)return 0;if(/^[1-9]([0-9]+)?$/.test(b))return parseFloat(b);var c=a(b);return this.hasLen(c)?c.offset().top:0},b.elInfo=function(a){return{oTop:a.offset().top,oHeight:a.outerHeight()}},b.elStop=function(b){return a(b||"html,body").stop(!0)},b.blockSet=function(a){var b=g.eq(a);return{index:a,top:b.offset().top-p,left:b.offset().left,oWidth:b.outerWidth(!0),oHeight:b.outerHeight(!0)}},b.animate=function(c){var d=this.blockSet(c);a(this.scroll).stop(!0).animate({scrollTop:this.px(d.top)},this.speed,function(){b.setIsClick(!1)})},b.tcView=function(a){a?f.hasClass(this._onClass)||f.removeClass(j).addClass(i).addClass(this._onClass):f.hasClass(this._onClass)&&f.addClass(j).removeClass(i).removeClass(this._onClass)},b.setClass=function(){!this.titIsOff()&&this.hasLen(e)&&(-1==r?e.removeClass(k):e.eq(r).removeClass(k),e.eq(q).addClass(k))},b.scrollExp=function(){var b=this.scrollTop(),c=b+1+p;1>=g.length||g.eq(1).offset().top>c?q=0:g.each(function(b,d){var e=b+1;if(e<g.length){if(a(d).offset().top<=c&&g.eq(e).offset().top>c)return q=b,!0}else if(a(d).offset().top<=c||c+a(window).height()+1>=a(document).height())return q=b,!0}),q!=r&&this.setClass(),b>=x?this.scrollView(!0):this.scrollView(!1),r=q,w=c,this.callbackFunc(q,w)},b.scrollView=function(a){switch(this.getRollType()){case 1:-1==u&&a?this.tcView(!1):this.tcView(a);break;case 2:-1==u&&a?this.tcView(!0):this.tcView(this.scrollTop()>0&&a?!1:a);break;default:this.tcView(a)}this.placeView()},b.placeView=function(){var a,b,c;return 1>y||!v.hasOwnProperty("oTop")?!1:(a=0,b=this.scrollTop(),c=v.oTop+v.oHeight+b,c>=y?(a=t?v.oTop+b+(y-c):y-b-v.oHeight,f.attr(this._rd,1).css("top",this.px(a))):("1"==f.attr(this._rd)&&f.removeAttr("style"),f.attr(this._rd,0)),void 0)},b.scrollEvent=function(){var b=this,c=!1,d=null,e=0,f=0;a(window).scroll(function(){e=b.scrollTop(),c||(u=e>=f?-1:1),b.scrollExp(),f=e}),a(document).on("mousewheel DOMMouseScroll wheel",function(a){c=!0,d=a.originalEvent,u=d.wheelDelta&&(d.wheelDelta>0?1:-1)||d.detail&&(d.detail>0?-1:1),b.elStop(),b.wheelExp(a)}).mousedown(function(){c=!1})},b.wheelExp=function(){return this.isClicked()?(this.setIsClick(!1),a(this.scroll).stop(!0,!0),void 0):!0},b.createStyle=function(){var b=[],c=[z.name,":",z.value,"px;"].join("");this.isIE6()?(f.addClass(this._topExp),b.push("html{_text-overflow:ellipsis;/*background-image:url(about:blank);background-attachment:fixed;*/}"),b.push("."+this._onClass+"{position:absolute;bottom:auto;left:"+z.left+"px !important;"+c+"}"),b.push("."+this._topExp+"{/*left:0px;*/"+z.name+":expression(eval(document.documentElement.scrollTop + "+z.value+"));")):b.push("."+this._onClass+"{position:fixed;left:"+z.left+"px !important;"+c+"}"),this._init&&a(this._style).remove(),a('<style type="text/css" id="$1">$2</style>'.replace("$1",this._style.substring(1)).replace("$2",b.join(""))).appendTo("head"),!1===this.onClass&&(i=this._onClass)},b.getOffsetExp=function(){var a=d.offset().left,b=a+d.outerWidth();return{left:Math.max(0,a)+o,right:Math.max(0,b-this.titContainerWidth())-o}},b.titContainerWidth=function(){return parseFloat(f.outerWidth(!0))||0},b.titContainerHeight=function(){return parseFloat(f.outerHeight(!0))||0},b.isStickRight=function(){return"right"===m},b.isClicked=function(){return s},b.setIsClick=function(a){s=a},b.posTypeToExp=function(){var a={name:"top",value:0,left:0},b=this.getOffsetExp();switch(l){case 2:a.value=Math.max(0,this.winDocWh().winH-this.titContainerHeight())/2,a.value+=n;break;case 3:this.isIE6()?a.value=Math.max(0,this.winDocWh().winH-this.titContainerHeight())-n:(a.name="bottom",a.value+=n);break;default:a.value+=n}return a.left=this.isStickRight()?b.right:b.left,a},b.toTop=function(){return h?(a(h,d).click(function(){b.elStop().animate({scrollTop:0},b.speed)}),void 0):!1},b.resize=function(){var b=this;a(window).resize(function(){z=b.posTypeToExp(),b.createStyle(),v=b.elInfo(f),v.oTop-=b.scrollTop()})},b.thatInit=function(){var a=this.randStr();this._rd=this._rd.replace("$1",a),this._style=this._style.replace("$1",a),this._topExp=this._topExp.replace("$1",a),this._onClass=this._onClass.replace("$1",a)},b.init=function(){!this.titIsOff()&&this.hasLen(e)&&e.click(function(){b.elStop(),b.setIsClick(!0),b.animate(e.index(this))}),this.createStyle(),this.scrollEvent(),this.scrollExp(),v=this.elInfo(f),v.oTop-=this.scrollTop(),this._init=!0},b.thatInit(),d=a(this),e=a(b.tit,d),f=a(b.titContainer,d),g=a(b.block,d),h=b.backTop,i=b.onClass,j=b.offClass,k=b.titOnClass,l=b.positionType,m=b.stickType,n=parseFloat(b.offsetY),o=parseFloat(b.offsetX),p=parseFloat(b.early),q=0,r=-1,s=!1,t=b.isIE6(),u=0,v={},w=b.scrollTop(),x=b.valueTop(b.appoint),y=b.valueTop(b.place),z=b.posTypeToExp(),b.init(),b.toTop(),b.resize()}}(jQuery);